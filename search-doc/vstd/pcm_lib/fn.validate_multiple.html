<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0" name="viewport"><meta content="rustdoc" name="generator"><meta content="API documentation for the Rust `validate_multiple` fn in crate `vstd`." name="description"><title>validate_multiple in vstd::pcm_lib - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link href="../../static.files/normalize-9960930a.css" rel="stylesheet"><link href="../../static.files/rustdoc-46132b98.css" rel="stylesheet"><meta data-channel="1.85.1" data-current-crate="vstd" data-resource-suffix="" data-root-path="../../" data-rustdoc-version="1.85.1 (4eb161250 2025-03-15)" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" data-static-root-path="../../static.files/" data-themes="" name="rustdoc-vars"><script src="../../static.files/storage-59e33391.js"></script><script defer="" src="sidebar-items.js"></script><script defer="" src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link href="../../static.files/favicon-32x32-6580c154.png" rel="alternate icon" type="image/png"><link href="../../static.files/favicon-044be391.svg" rel="icon" type="image/svg+xml"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../vstd/index.html">vstd</a></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In vstd::<wbr>pcm_<wbr>lib</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section class="content" id="main-content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">vstd</a>::<wbr><a href="index.html">pcm_lib</a></span><h1>Function <span class="fn">validate_multiple</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/vstd/pcm_lib.rs.html#337-366">Source</a> </span></div><pre class="rust item-decl"><code>pub <span class="verus-sig-keyword">proof </span>fn validate_multiple&lt;P: <a class="trait" href="../pcm/trait.PCM.html" title="trait vstd::pcm::PCM">PCM</a>&gt;(<span class="verus-sig-keyword">tracked </span>
    m: &amp;mut <a class="struct" href="../map/struct.Map.html" title="struct vstd::map::Map">Map</a>&lt;<a class="struct" href="../prelude/struct.int.html" title="struct vstd::prelude::int">int</a>, <a class="struct" href="../pcm/struct.Resource.html" title="struct vstd::pcm::Resource">Resource</a>&lt;P&gt;&gt;,
    loc: <a class="struct" href="../prelude/struct.int.html" title="struct vstd::prelude::int">int</a>,
    values: <a class="struct" href="../seq/struct.Seq.html" title="struct vstd::seq::Seq">Seq</a>&lt;P&gt;,
)</code></pre><details class="toggle top-doc" open=""><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><div class="verus-spec"><span class="verus-spec-keyword">requires</span><pre class="rust rest-example-rendered verus-spec-code"><code>forall |i| <span class="number">0 </span>&lt;= i &lt; values.len() ==&gt; old(m).dom().contains(i),</code></pre><pre class="rust rest-example-rendered verus-spec-code"><code>forall |i| {
    <span class="number">0 </span>&lt;= i &lt; values.len() ==&gt; old(m)[i].loc() == loc &amp;&amp; old(m)[i].value() == values[i]
},</code></pre><span class="verus-spec-keyword">ensures</span><pre class="rust rest-example-rendered verus-spec-code"><code>forall |i| <span class="number">0 </span>&lt;= i &lt; values.len() ==&gt; m.dom().contains(i),</code></pre><pre class="rust rest-example-rendered verus-spec-code"><code>forall |i| <span class="number">0 </span>&lt;= i &lt; values.len() ==&gt; m[i].loc() == loc &amp;&amp; m[i].value() == values[i],</code></pre><pre class="rust rest-example-rendered verus-spec-code"><code>combine_values(values).valid(),</code></pre></div>











<p>Validates that a given sequence of resources has values that
combine to form a valid value. Although that sequence consists of
mutable references, none of those resources change. (They change
in the middle of the function, but are restored by the time it
completes.) The sequence of resources is specified using the
following input parameters:</p>
<p><code>m</code> – a map from integers to resources, mapping 0 to the first
resource, 1 to the second, etc.</p>
<p><code>loc</code> – the <code>loc()</code> shared by all the resources in <code>m</code></p>
<p><code>values</code> – the sequence of resources</p>
</div></details></section></div></main></body></html>